(function ($){
    $.extend({
        v4ConfirmSmall: function(confirmOptions){
            var confirmParams = $.extend({
                type: confirmOptions.type,
                header: confirmOptions.header,
                messages: confirmOptions.messages,
                attribute: confirmOptions.attribute,
                callback: null
            }, confirmOptions);
            
            var confirmHtml = '', 
                e = confirmParams.attribute,
                classWrapper = (confirmParams.type == 'confirm' ? 'v4-confirm-danger' : 'v4-confirm-success'),
                iconsWrapper = (confirmParams.type == 'confirm' ? 'confirm-delete' : 'confirm-success');
                confirmHtml += '<div class="v4-confirm-wrapper \ ' + classWrapper + ' \"> \
                                    <div class="v4-confirm-content"> \
                                        <div class="v4-confirm-icon \ ' + iconsWrapper + ' \"></div> \
                                            <div class="v4-confirm-messages"> \
                                                <div class="v4-confirm-header">' + confirmParams.header + '</div> \
                                                <div class="v4-confirm-message">' + confirmParams.messages +'</div> \
                                            </div>';
                                        if(confirmParams.type == 'confirm') {
                                            confirmHtml += '<div class="v4-confirm-button-wrapper"> \
                                                <button class="v4-confirm-button v4-confirm-cancel-small">CANCEL</button> \
                                                <button class="v4-confirm-button v4-confirm-yes-small">YES</button> \
                                            </div>';
                                        } else if(confirmParams.type == 'success') {
                                            confirmHtml += '<div class="v4-confirm-button-wrapper"> \
                                                <button class="v4-confirm-button v4-confirm-close-small">CLOSE</button> \
                                            </div>';
                                        }
                confirmHtml += '    </div> \
                                </div>';
                $("body").append($(confirmHtml)).fadeIn();
                $(".v4-confirm-cancel-small, .v4-confirm-close-small").click(function(){
                    $(".v4-confirm-wrapper").remove().fadeOut();
                    return false;
                });
                $(".v4-confirm-yes-small").click(function(){
                    if (typeof confirmParams.callback == 'function') {
                        if ($(".v4-confirm-wrapper").length > 0) {
                            $(".v4-confirm-wrapper").remove();
                        }
                        return confirmParams.callback(e);
                    }
                });
        },
        v4ConfirmMedium: function(confirmMediumOptions){
            var confirmMediumParams = $.extend({
                type: confirmMediumOptions.type,
                icons: confirmMediumOptions.icons,
                title: confirmMediumOptions.title,
                messages: confirmMediumOptions.messages,
                buttons: {
                    cancel: {
                        label: confirmMediumOptions.buttons.cancel.label
                    },
                    submit: {
                        label: confirmMediumOptions.buttons.submit.label,
                        attribute: confirmMediumOptions.buttons.submit.params
                    } 
                },
                callback: null
            }, confirmMediumOptions);
            var paramsAttribute = confirmMediumParams.buttons.submit.attribute;
            $div = '<section class="kbaru-confirm">';
            $div += '   <div class="kbaru-confirm-overlay" id="kbaruModalOverlay"> \
                            <div class="kbaru-confirm-content" style="width:468px;">';
            $div += '           <div class="container__content">';
                                    if(confirmMediumOptions.icons) {
                                        $div += '<div class="container_content_icons ' + confirmMediumOptions.icons + '"></div>';
                                    }
            $div += '               <div class="container_content_title">' + confirmMediumParams.title + '</div> \
                                    <div class="container_content_messages">' + confirmMediumParams.messages + '</div> \
                                    <div class="container_content_buttons">';
                                    if(confirmMediumParams.type == 'confirm') {
                                        $div += '<button class="btn-container btn-content-cancel">' + confirmMediumParams.buttons.cancel.label + '</button> \
                                                    <button class="btn-container btn-content-submit">' + confirmMediumParams.buttons.submit.label + '</button>';
                                    } else if(confirmMediumParams.type == 'info') {
                                        $div += '<button class="btn-container btn-content-cancel">' + confirmMediumParams.buttons.cancel.label + '</button>';
                                    }
            $div += '               </div> \
                                </div> \
                            </div> \
                        </div>'; 
            $div += '</section>';
            $("body").append($($div)).fadeIn();
            $("#kbaruModalOverlay").addClass('visible');
            $(".btn-content-cancel").click(function(){
                if ($(".kbaru-confirm").length > 0) {
                    $(".kbaru-confirm").remove();
                    return false;
                }
            })
            $(".btn-content-submit").click(function(){
                if (typeof confirmMediumParams.callback == 'function') {
                    if ($(".kbaru-confirm").length > 0) {
                        $(".kbaru-confirm").remove();
                    }
                    return confirmMediumParams.callback(paramsAttribute);
                }
            });
        }
    })
})(jQuery);